package com.pactera.nci.common.db;

import java.util.ArrayList;

import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;

public class Place {
	
	private String level;//层级
	private String code;//地名代码
	private String name;//地名
	private String topcode;//上级地名代码
	private String shortname;//地名简写
	private String opeFlag;
	
	public String getOpeFlag() {
		return opeFlag;
	}
	public void setOpeFlag(String opeFlag) {
		this.opeFlag = opeFlag;
	}
	public String getLevel() {
		return level;
	}
	public void setLevel(String level) {
		this.level = level;
	}
	public String getCode() {
		return code;
	}
	public void setCode(String code) {
		this.code = code;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getTopcode() {
		return topcode;
	}
	public void setTopcode(String topcode) {
		this.topcode = topcode;
	}
	public String getShortname() {
		return shortname;
	}
	public void setShortname(String shortname) {
		this.shortname = shortname;
	}

	public static ArrayList<Place> findByKey(SQLiteDatabase db, String key, String value){
		Cursor cursor = db.query("PLACECODE", new String[] {"PLACETYPE", "PLACECODE", "PLACENAME" ,"UPPLACECODE", "REM"}, key + "=" + value, null, null, null, null);
		int counts = cursor.getCount();
		if(counts == 0 || !cursor.moveToFirst()) {
			return null;
		}
		ArrayList<Place> placeList = new ArrayList<Place>();
		for (int i = 0; i < counts; i++) {
			Place place = new Place();
			place.setLevel(cursor.getString(cursor.getColumnIndex("PLACETYPE")));
			place.setCode(cursor.getString(cursor.getColumnIndex("PLACECODE")));
			place.setName(cursor.getString(cursor.getColumnIndex("PLACENAME")));
			place.setTopcode(cursor.getString(cursor.getColumnIndex("UPPLACECODE")));
			place.setShortname(cursor.getString(cursor.getColumnIndex("REM")));
			placeList.add(place);
			cursor.moveToNext();
		}
		if (cursor != null) {
			cursor.close();
			cursor = null;
		}
		return placeList;
	}
	
	public static ArrayList<Place> findByCode(SQLiteDatabase db, ArrayList<Place> placeList, String key, String value){
		Cursor cursor = db.query("PLACECODE", new String[] {"PLACECODE", "REM"}, key + "=" +"\'"+value+"\'", null, null, null, null);
		int counts = cursor.getCount();
		if(counts == 0 || !cursor.moveToFirst()) {
			//return null;
		}
		for (int i = 0; i < counts; i++) {
			Place place = new Place();
			place.setTopcode(cursor.getString(cursor.getColumnIndex("PLACECODE")));
			place.setShortname(cursor.getString(cursor.getColumnIndex("REM")));
			placeList.add(place);
			cursor.moveToNext();
		}
		if (cursor != null) {
			cursor.close();
			cursor = null;
		}
		return placeList;
	}
	
}